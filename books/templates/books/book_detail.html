{% extends "base.html" %}
{% load static %}

{% block title %}{{ book.title }}{% if book.subtitle %}: {{ book.subtitle }}{% endif %}{% endblock %}

{% block content %}
  <a href="javascript:history.back()" class="btn btn-link mb-3">&larr; Back</a>

  <div class="row g-4">
    <div class="col-md-3">
      {% if book.thumbnail %}
        <img src="{{ book.thumbnail }}" alt="{{ book.title }} cover" class="img-fluid rounded border">
      {% else %}
           <img src=" {% static 'img/placeholder_cover.png' %}" alt="Placeholder cover" class="img-fluid">
      {% endif %}
    </div>

    <div class="col-md-9">
      <h1 class="h3 mb-1">{{ book.title }}</h1>
      {% if book.subtitle %}<p class="text-muted mb-2">{{ book.subtitle }}</p>{% endif %}
      {% if book.authors %}
        <p class="mb-1"><strong>Author{% if book.authors|length > 1 %}s{% endif %}:</strong> {{ book.authors }}</p>
      {% endif %}
      <p class="mb-1">
        {% if book.publisher %}<strong>Publisher:</strong> {{ book.publisher }} Â· {% endif %}
        {% if book.publishedDate %}<strong>Published:</strong> {{ book.publishedDate }}{% endif %}
      </p>
      {% if book.pageCount %}<p class="mb-1"><strong>Pages:</strong> {{ book.pageCount }}</p>{% endif %}
      {% if book.categories %}<p class="mb-3"><strong>Categories:</strong> {{ book.categories|join:", " }}</p>{% endif %}

      {% if book.description %}
        <h2 class="h5 mt-4">Description</h2>
        <p>{{ book.description|safe }}</p>
      {% endif %}
    </div>
  </div>
{% endblock %}
